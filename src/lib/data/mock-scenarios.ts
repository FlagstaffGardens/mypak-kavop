import { addDays, format } from "date-fns";
import type { ContainerRecommendation, Product } from "../types";
import { calculateProductStatus } from "../calculations";

const today = new Date();

/**
 * Different mock data scenarios for demonstrating UI states
 */

// SCENARIO 1: Healthy - All containers well ahead, no urgent actions
export const healthyScenario: ContainerRecommendation[] = [
  {
    id: 1,
    containerNumber: 1,
    orderByDate: format(addDays(today, 25), "MMM dd, yyyy"),
    deliveryDate: format(addDays(today, 70), "MMM dd, yyyy"),
    totalCartons: 88000,
    productCount: 3,
    urgency: null,
    products: [
      {
        productId: 1,
        productName: "Better Eggs Free Range Size 7 6 Pack",
        currentStock: 28000,
        weeklyConsumption: 2100,
        recommendedQuantity: 28000,
        afterDeliveryStock: 56000,
        weeksSupply: 26.7,
        runsOutDate: format(addDays(today, 93), "MMM dd, yyyy"),
      },
      {
        productId: 2,
        productName: "Josh's Eggs Organic Large 12 Pack",
        currentStock: 21000,
        weeklyConsumption: 1400,
        recommendedQuantity: 19000,
        afterDeliveryStock: 40000,
        weeksSupply: 28.6,
        runsOutDate: format(addDays(today, 105), "MMM dd, yyyy"),
      },
      {
        productId: 3,
        productName: "Valley Park Barn Laid Medium 10 Pack",
        currentStock: 18000,
        weeklyConsumption: 1200,
        recommendedQuantity: 41000,
        afterDeliveryStock: 59000,
        weeksSupply: 49.2,
        runsOutDate: format(addDays(today, 105), "MMM dd, yyyy"),
      },
    ],
  },
  {
    id: 2,
    containerNumber: 2,
    orderByDate: format(addDays(today, 35), "MMM dd, yyyy"),
    deliveryDate: format(addDays(today, 80), "MMM dd, yyyy"),
    totalCartons: 72000,
    productCount: 2,
    urgency: null,
    products: [
      {
        productId: 4,
        productName: "Agenbrook Cage Free XL 6 Pack",
        currentStock: 32000,
        weeklyConsumption: 1800,
        recommendedQuantity: 32000,
        afterDeliveryStock: 64000,
        weeksSupply: 35.6,
        runsOutDate: format(addDays(today, 124), "MMM dd, yyyy"),
      },
      {
        productId: 5,
        productName: "Josh's Eggs Free Range Medium 12 Pack",
        currentStock: 27000,
        weeklyConsumption: 900,
        recommendedQuantity: 40000,
        afterDeliveryStock: 67000,
        weeksSupply: 74.4,
        runsOutDate: format(addDays(today, 210), "MMM dd, yyyy"),
      },
    ],
  },
];

// SCENARIO 2: Single Urgent - One container needs ordering soon
export const singleUrgentScenario: ContainerRecommendation[] = [
  {
    id: 1,
    containerNumber: 1,
    orderByDate: format(addDays(today, 3), "MMM dd, yyyy"),
    deliveryDate: format(addDays(today, 48), "MMM dd, yyyy"),
    totalCartons: 88000,
    productCount: 3,
    urgency: "URGENT",
    products: [
      {
        productId: 1,
        productName: "Better Eggs Free Range Size 7 6 Pack",
        currentStock: 2800,
        weeklyConsumption: 2100,
        recommendedQuantity: 28000,
        afterDeliveryStock: 30800,
        weeksSupply: 14.7,
        runsOutDate: format(addDays(today, 9), "MMM dd, yyyy"),
      },
      {
        productId: 2,
        productName: "Josh's Eggs Organic Large 12 Pack",
        currentStock: 1500,
        weeklyConsumption: 1400,
        recommendedQuantity: 19000,
        afterDeliveryStock: 20500,
        weeksSupply: 14.6,
        runsOutDate: format(addDays(today, 7), "MMM dd, yyyy"),
      },
      {
        productId: 3,
        productName: "Valley Park Barn Laid Medium 10 Pack",
        currentStock: 4200,
        weeklyConsumption: 1200,
        recommendedQuantity: 41000,
        afterDeliveryStock: 45200,
        weeksSupply: 37.7,
        runsOutDate: format(addDays(today, 24), "MMM dd, yyyy"),
      },
    ],
  },
  {
    id: 2,
    containerNumber: 2,
    orderByDate: format(addDays(today, 28), "MMM dd, yyyy"),
    deliveryDate: format(addDays(today, 73), "MMM dd, yyyy"),
    totalCartons: 72000,
    productCount: 2,
    urgency: null,
    products: [
      {
        productId: 4,
        productName: "Agenbrook Cage Free XL 6 Pack",
        currentStock: 18000,
        weeklyConsumption: 1800,
        recommendedQuantity: 32000,
        afterDeliveryStock: 50000,
        weeksSupply: 27.8,
        runsOutDate: format(addDays(today, 70), "MMM dd, yyyy"),
      },
      {
        productId: 5,
        productName: "Josh's Eggs Free Range Medium 12 Pack",
        currentStock: 14000,
        weeklyConsumption: 900,
        recommendedQuantity: 40000,
        afterDeliveryStock: 54000,
        weeksSupply: 60.0,
        runsOutDate: format(addDays(today, 108), "MMM dd, yyyy"),
      },
    ],
  },
];

// SCENARIO 3: Multiple Urgent - Several containers need immediate attention
export const multipleUrgentScenario: ContainerRecommendation[] = [
  {
    id: 1,
    containerNumber: 1,
    orderByDate: format(addDays(today, 2), "MMM dd, yyyy"),
    deliveryDate: format(addDays(today, 47), "MMM dd, yyyy"),
    totalCartons: 88000,
    productCount: 3,
    urgency: "URGENT",
    products: [
      {
        productId: 1,
        productName: "Better Eggs Free Range Size 7 6 Pack",
        currentStock: 2100,
        weeklyConsumption: 2100,
        recommendedQuantity: 28000,
        afterDeliveryStock: 30100,
        weeksSupply: 14.3,
        runsOutDate: format(addDays(today, 7), "MMM dd, yyyy"),
      },
      {
        productId: 2,
        productName: "Josh's Eggs Organic Large 12 Pack",
        currentStock: 1400,
        weeklyConsumption: 1400,
        recommendedQuantity: 19000,
        afterDeliveryStock: 20400,
        weeksSupply: 14.6,
        runsOutDate: format(addDays(today, 7), "MMM dd, yyyy"),
      },
      {
        productId: 3,
        productName: "Valley Park Barn Laid Medium 10 Pack",
        currentStock: 3600,
        weeklyConsumption: 1200,
        recommendedQuantity: 41000,
        afterDeliveryStock: 44600,
        weeksSupply: 37.2,
        runsOutDate: format(addDays(today, 21), "MMM dd, yyyy"),
      },
    ],
  },
  {
    id: 2,
    containerNumber: 2,
    orderByDate: format(addDays(today, 5), "MMM dd, yyyy"),
    deliveryDate: format(addDays(today, 50), "MMM dd, yyyy"),
    totalCartons: 72000,
    productCount: 2,
    urgency: "URGENT",
    products: [
      {
        productId: 4,
        productName: "Agenbrook Cage Free XL 6 Pack",
        currentStock: 3600,
        weeklyConsumption: 1800,
        recommendedQuantity: 32000,
        afterDeliveryStock: 35600,
        weeksSupply: 19.8,
        runsOutDate: format(addDays(today, 14), "MMM dd, yyyy"),
      },
      {
        productId: 5,
        productName: "Josh's Eggs Free Range Medium 12 Pack",
        currentStock: 2700,
        weeklyConsumption: 900,
        recommendedQuantity: 40000,
        afterDeliveryStock: 42700,
        weeksSupply: 47.4,
        runsOutDate: format(addDays(today, 21), "MMM dd, yyyy"),
      },
    ],
  },
  {
    id: 3,
    containerNumber: 3,
    orderByDate: format(addDays(today, 7), "MMM dd, yyyy"),
    deliveryDate: format(addDays(today, 52), "MMM dd, yyyy"),
    totalCartons: 55000,
    productCount: 1,
    urgency: "URGENT",
    products: [
      {
        productId: 6,
        productName: "Better Eggs Barn Laid Large 18 Pack",
        currentStock: 4800,
        weeklyConsumption: 1600,
        recommendedQuantity: 55000,
        afterDeliveryStock: 59800,
        weeksSupply: 37.4,
        runsOutDate: format(addDays(today, 21), "MMM dd, yyyy"),
      },
    ],
  },
];


/**
 * Healthy state products - all 14 real products with 16+ weeks coverage
 * Stock levels adjusted to ensure HEALTHY status (16+ weeks remaining)
 */
export const healthyStateProducts: Product[] = [
  {
    id: 1,
    name: "Better Eggs Free Range Mxd Grade 12 Pack - 18 CARTONS",
    brand: "Better Eggs",
    type: "Free Range",
    size: "Mixed",
    packCount: "18 cartons",
    sku: "BEN-BET528b-S12B1Q-1a-IP-IL2",
    imageUrl: "https://via.placeholder.com/200/22C55E/FFFFFF?text=Better+Eggs+Free+Range",
    currentStock: 400000, // 16 weeks @ 25,000/week
    weeklyConsumption: 25000,
    targetStock: 150000,
    piecesPerPallet: 5760,
    currentPallets: Math.floor(400000 / 5760),
    weeklyPallets: parseFloat((25000 / 5760).toFixed(2)),
    runsOutDate: format(addDays(today, 16 * 7), "MMM dd, yyyy"),
    runsOutDays: 16 * 7,
    weeksRemaining: 16.0,
    status: calculateProductStatus(16.0, 6),
  },
  {
    id: 2,
    name: "Better Eggs Free Range Size 7 12 Pack - 18 CARTONS",
    brand: "Better Eggs",
    type: "Free Range",
    size: "Size 7",
    packCount: "18 cartons",
    sku: "BEN-BET744a-S12B1P-1a-IP-IL2",
    imageUrl: "https://via.placeholder.com/200/3B82F6/FFFFFF?text=Better+Eggs+Size+7",
    currentStock: 320000, // 17.8 weeks @ 18,000/week
    weeklyConsumption: 18000,
    targetStock: 108000,
    piecesPerPallet: 5760,
    currentPallets: Math.floor(320000 / 5760),
    weeklyPallets: parseFloat((18000 / 5760).toFixed(2)),
    runsOutDate: format(addDays(today, Math.floor(17.8 * 7)), "MMM dd, yyyy"),
    runsOutDays: Math.floor(17.8 * 7),
    weeksRemaining: 17.8,
    status: calculateProductStatus(17.8, 6),
  },
  {
    id: 3,
    name: "Better Eggs Free Range Size 7 6 Pack - 18 CARTONS",
    brand: "Better Eggs",
    type: "Free Range",
    size: "Size 7",
    packCount: "18 cartons",
    sku: "BEN-BET372a-S06G7P-1a-IL2",
    imageUrl: "https://via.placeholder.com/200/F59E0B/FFFFFF?text=Better+Eggs+6+Pack",
    currentStock: 60000, // 17.9 weeks @ 3,350/week
    weeklyConsumption: 3350,
    targetStock: 20100,
    piecesPerPallet: 5120,
    currentPallets: Math.floor(60000 / 5120),
    weeklyPallets: parseFloat((3350 / 5120).toFixed(2)),
    runsOutDate: format(addDays(today, Math.floor(17.9 * 7)), "MMM dd, yyyy"),
    runsOutDays: Math.floor(17.9 * 7),
    weeksRemaining: 17.9,
    status: calculateProductStatus(17.9, 6),
  },
  {
    id: 4,
    name: "Better Eggs Free Range Size 7 18 Pack - 12 CARTONS",
    brand: "Better Eggs",
    type: "Free Range",
    size: "Size 7",
    packCount: "12 cartons",
    sku: "BEN-BE1116a-S18G7PFNO#-1a-IL2",
    imageUrl: "https://via.placeholder.com/200/8B5CF6/FFFFFF?text=Better+Eggs+18+Pack",
    currentStock: 210000, // 466.7 weeks @ 450/week (very well stocked)
    weeklyConsumption: 450,
    targetStock: 2700,
    piecesPerPallet: 3200,
    currentPallets: Math.floor(210000 / 3200),
    weeklyPallets: parseFloat((450 / 3200).toFixed(2)),
    runsOutDate: format(addDays(today, Math.floor(466.7 * 7)), "MMM dd, yyyy"),
    runsOutDays: Math.floor(466.7 * 7),
    weeksRemaining: 466.7,
    status: calculateProductStatus(466.7, 6),
  },
  {
    id: 5,
    name: "Better Eggs Free Range Size 8 10 Pack - 15 CARTONS",
    brand: "Better Eggs",
    type: "Free Range",
    size: "Size 8",
    packCount: "15 cartons",
    sku: "BEN-BET680a-K10G3A-1a-IL2",
    imageUrl: "https://via.placeholder.com/200/EC4899/FFFFFF?text=Better+Eggs+Size+8",
    currentStock: 140000, // 16.5 weeks @ 8,500/week
    weeklyConsumption: 8500,
    targetStock: 51000,
    piecesPerPallet: 5832,
    currentPallets: Math.floor(140000 / 5832),
    weeklyPallets: parseFloat((8500 / 5832).toFixed(2)),
    runsOutDate: format(addDays(today, Math.floor(16.5 * 7)), "MMM dd, yyyy"),
    runsOutDays: Math.floor(16.5 * 7),
    weeksRemaining: 16.5,
    status: calculateProductStatus(16.5, 6),
  },
  {
    id: 6,
    name: "Henergy Cage Free Jumbo 10 Pack - 15 CARTONS",
    brand: "Henergy",
    type: "Cage Free",
    size: "Jumbo",
    packCount: "15 cartons",
    sku: "BEN-BEF680a-K10G3A-1a-IL2",
    imageUrl: "https://via.placeholder.com/200/EF4444/FFFFFF?text=Henergy+Cage+Free",
    currentStock: 360000, // 16 weeks @ 22,500/week
    weeklyConsumption: 22500,
    targetStock: 135000,
    piecesPerPallet: 5832,
    currentPallets: Math.floor(360000 / 5832),
    weeklyPallets: parseFloat((22500 / 5832).toFixed(2)),
    runsOutDate: format(addDays(today, 16 * 7), "MMM dd, yyyy"),
    runsOutDays: 16 * 7,
    weeksRemaining: 16.0,
    status: calculateProductStatus(16.0, 6),
  },
  {
    id: 7,
    name: "Henergy Barn Size 6 12 Pack - 18 CARTONS",
    brand: "Henergy",
    type: "Barn",
    size: "Size 6",
    packCount: "18 cartons",
    sku: "BEN-BEF636a-S12B1A-1a-IP-IL2",
    imageUrl: "https://via.placeholder.com/200/F97316/FFFFFF?text=Henergy+Barn+6",
    currentStock: 580000, // 16.6 weeks @ 35,000/week
    weeklyConsumption: 35000,
    targetStock: 210000,
    piecesPerPallet: 5760,
    currentPallets: Math.floor(580000 / 5760),
    weeklyPallets: parseFloat((35000 / 5760).toFixed(2)),
    runsOutDate: format(addDays(today, Math.floor(16.6 * 7)), "MMM dd, yyyy"),
    runsOutDays: Math.floor(16.6 * 7),
    weeksRemaining: 16.6,
    status: calculateProductStatus(16.6, 6),
  },
  {
    id: 8,
    name: "Henergy Barn Size 7 12 Pack - 18 CARTONS",
    brand: "Henergy",
    type: "Barn",
    size: "Size 7",
    packCount: "18 cartons",
    sku: "BEN-BEF744a-S12B1A-1a-IP-IL2",
    imageUrl: "https://via.placeholder.com/200/14B8A6/FFFFFF?text=Henergy+Barn+7",
    currentStock: 400000, // 16 weeks @ 25,000/week
    weeklyConsumption: 25000,
    targetStock: 150000,
    piecesPerPallet: 5760,
    currentPallets: Math.floor(400000 / 5760),
    weeklyPallets: parseFloat((25000 / 5760).toFixed(2)),
    runsOutDate: format(addDays(today, 16 * 7), "MMM dd, yyyy"),
    runsOutDays: 16 * 7,
    weeksRemaining: 16.0,
    status: calculateProductStatus(16.0, 6),
  },
  {
    id: 9,
    name: "Henergy Barn Size 6 18 Pack - 12 CARTONS",
    brand: "Henergy",
    type: "Barn",
    size: "Size 6",
    packCount: "12 cartons",
    sku: "BEN-BEF954a-S18G7A-1a-IL2",
    imageUrl: "https://via.placeholder.com/200/06B6D4/FFFFFF?text=Henergy+Barn+18",
    currentStock: 300000, // 16.7 weeks @ 18,000/week
    weeklyConsumption: 18000,
    targetStock: 108000,
    piecesPerPallet: 3200,
    currentPallets: Math.floor(300000 / 3200),
    weeklyPallets: parseFloat((18000 / 3200).toFixed(2)),
    runsOutDate: format(addDays(today, Math.floor(16.7 * 7)), "MMM dd, yyyy"),
    runsOutDays: Math.floor(16.7 * 7),
    weeksRemaining: 16.7,
    status: calculateProductStatus(16.7, 6),
  },
  {
    id: 10,
    name: "Henergy Barn Size 7 18 Pack - 12 CARTONS",
    brand: "Henergy",
    type: "Barn",
    size: "Size 7",
    packCount: "12 cartons",
    sku: "BEN-BF1116a-S18G7A-1a-IL2",
    imageUrl: "https://via.placeholder.com/200/84CC16/FFFFFF?text=Henergy+Barn+7+18",
    currentStock: 170000, // 17 weeks @ 10,000/week
    weeklyConsumption: 10000,
    targetStock: 60000,
    piecesPerPallet: 3200,
    currentPallets: Math.floor(170000 / 3200),
    weeklyPallets: parseFloat((10000 / 3200).toFixed(2)),
    runsOutDate: format(addDays(today, 17 * 7), "MMM dd, yyyy"),
    runsOutDays: 17 * 7,
    weeksRemaining: 17.0,
    status: calculateProductStatus(17.0, 6),
  },
  {
    id: 11,
    name: "Rise n Shine COLONY Laid Eggs Size 7 12 Pack - 18 CARTONS",
    brand: "Rise n Shine",
    type: "Colony",
    size: "Size 7",
    packCount: "18 cartons",
    sku: "BEN-BFC744a-S12B1C-IL1",
    imageUrl: "https://via.placeholder.com/200/A855F7/FFFFFF?text=Rise+n+Shine+Colony",
    currentStock: 680000, // 16 weeks @ 42,500/week
    weeklyConsumption: 42500,
    targetStock: 255000,
    piecesPerPallet: 5760,
    currentPallets: Math.floor(680000 / 5760),
    weeklyPallets: parseFloat((42500 / 5760).toFixed(2)),
    runsOutDate: format(addDays(today, 16 * 7), "MMM dd, yyyy"),
    runsOutDays: 16 * 7,
    weeksRemaining: 16.0,
    status: calculateProductStatus(16.0, 6),
  },
  {
    id: 12,
    name: "Rise n Shine COLONY Laid Eggs Mixed 18 Pack - 12 CARTONS",
    brand: "Rise n Shine",
    type: "Colony",
    size: "Mixed",
    packCount: "12 cartons",
    sku: "BEN-BFC792b-S18G7CFNO#-IL1",
    imageUrl: "https://via.placeholder.com/200/F59E0B/FFFFFF?text=Rise+n+Shine+Mixed",
    currentStock: 380000, // 16.2 weeks @ 23,500/week
    weeklyConsumption: 23500,
    targetStock: 141000,
    piecesPerPallet: 3200,
    currentPallets: Math.floor(380000 / 3200),
    weeklyPallets: parseFloat((23500 / 3200).toFixed(2)),
    runsOutDate: format(addDays(today, Math.floor(16.2 * 7)), "MMM dd, yyyy"),
    runsOutDays: Math.floor(16.2 * 7),
    weeksRemaining: 16.2,
    status: calculateProductStatus(16.2, 6),
  },
  {
    id: 13,
    name: "Countdown Barn Eggs Mixed 20 Pack - 8 CARTONS",
    brand: "Countdown",
    type: "Barn",
    size: "Mixed",
    packCount: "8 cartons",
    sku: "BEN-WMI###a-S20G2W-IL1",
    imageUrl: "https://via.placeholder.com/200/10B981/FFFFFF?text=Countdown+Barn",
    currentStock: 250000, // 16.4 weeks @ 15,250/week
    weeklyConsumption: 15250,
    targetStock: 91500,
    piecesPerPallet: 3400,
    currentPallets: Math.floor(250000 / 3400),
    weeklyPallets: parseFloat((15250 / 3400).toFixed(2)),
    runsOutDate: format(addDays(today, Math.floor(16.4 * 7)), "MMM dd, yyyy"),
    runsOutDays: Math.floor(16.4 * 7),
    weeksRemaining: 16.4,
    status: calculateProductStatus(16.4, 6),
  },
  {
    id: 14,
    name: "Pams Barn Mixed 20 Cell Tray - 8 TRAYS",
    brand: "Pams",
    type: "Barn",
    size: "Mixed",
    packCount: "8 trays",
    sku: "BEN-PCM970a-S20G2W-IL1",
    imageUrl: "https://via.placeholder.com/200/6366F1/FFFFFF?text=Pams+Barn+Eggs",
    currentStock: 80000, // 53.3 weeks @ 1,500/week (very well stocked)
    weeklyConsumption: 1500,
    targetStock: 9000,
    piecesPerPallet: 3400,
    currentPallets: Math.floor(80000 / 3400),
    weeklyPallets: parseFloat((1500 / 3400).toFixed(2)),
    runsOutDate: format(addDays(today, Math.floor(53.3 * 7)), "MMM dd, yyyy"),
    runsOutDays: Math.floor(53.3 * 7),
    weeksRemaining: 53.3,
    status: calculateProductStatus(53.3, 6),
  },
];

/**
 * Unified scenarios export for easy access
 * Maps demo state names to their respective container data
 */
export const SCENARIOS = {
  healthy: {
    containers: healthyScenario,
    products: healthyStateProducts, // All 14 products with HEALTHY status
  },
  single_urgent: {
    containers: singleUrgentScenario,
    products: [], // Will use default mock products
  },
  multiple_urgent: {
    containers: multipleUrgentScenario,
    products: [], // Will use default mock products
  },
};
