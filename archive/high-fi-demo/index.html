<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyPak Connect - VMI Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background: #f5f7fa;
            color: #2c3e50;
            line-height: 1.6;
            letter-spacing: 0.01em;
        }

        /* Navigation */
        .nav {
            background: white;
            border-bottom: 1px solid #e1e8ed;
            padding: 1.25rem 3rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 1px 3px rgba(0,0,0,0.03);
        }

        .nav-left {
            display: flex;
            align-items: center;
            gap: 4rem;
        }

        .nav-logo {
            font-size: 1.4rem;
            font-weight: 600;
            color: #0d47a1;
            letter-spacing: -0.02em;
        }

        .nav-tabs {
            display: flex;
            gap: 0.5rem;
        }

        .nav-tab {
            padding: 0.875rem 2rem;
            background: none;
            border: none;
            color: #7f8c8d;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 400;
            border-bottom: 2px solid transparent;
            transition: all 0.15s ease;
            letter-spacing: 0.02em;
        }

        .nav-tab:hover {
            color: #0d47a1;
            background: #f8fafb;
        }

        .nav-tab.active {
            color: #0d47a1;
            font-weight: 500;
            border-bottom-color: #0d47a1;
        }

        .nav-right {
            color: #5a6c7d;
            font-size: 0.9rem;
            font-weight: 400;
        }

        /* Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2.5rem 3rem;
        }

        /* Screens */
        .screen {
            display: none;
        }

        .screen.active {
            display: block;
        }

        /* Cards */
        .card {
            background: white;
            border-radius: 4px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.04);
            border: 1px solid #e8eef2;
        }

        .card-header {
            font-size: 0.7rem;
            color: #5a6c7d;
            text-transform: uppercase;
            letter-spacing: 1.2px;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        /* Recommendation Card */
        .rec-card {
            background: linear-gradient(135deg, #f0f7ff 0%, #fafbff 100%);
            border-left: 4px solid #0d47a1;
            border: 1px solid #bbdefb;
        }

        .rec-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .rec-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #0d47a1;
            letter-spacing: 0.02em;
        }

        .badge {
            padding: 0.3rem 0.8rem;
            border-radius: 6px;
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .badge-urgent {
            background: #dc3545;
            color: white;
        }

        .rec-body {
            margin-bottom: 1.25rem;
        }

        .rec-meta {
            color: #5a6c7d;
            margin-bottom: 0.4rem;
            font-size: 0.9rem;
            font-weight: 400;
        }

        .rec-products {
            color: #6c757d;
            font-size: 0.85rem;
            margin-top: 0.5rem;
        }

        /* Container Recommendation Items */
        .container-rec-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.25rem;
            background: white;
            border: 1px solid #e8eef2;
            border-radius: 4px;
            margin-top: 1rem;
            transition: all 0.15s ease;
        }

        .container-rec-item:hover {
            border-color: #0d47a1;
            box-shadow: 0 2px 6px rgba(0,0,0,0.06);
        }

        .container-rec-info {
            flex: 1;
        }

        .container-rec-name {
            font-weight: 600;
            font-size: 0.95rem;
            color: #2c3e50;
            margin-bottom: 0.4rem;
        }

        .container-rec-details {
            font-size: 0.85rem;
            color: #5a6c7d;
            margin-bottom: 0.35rem;
        }

        .container-rec-products {
            font-size: 0.8rem;
            color: #7f8c8d;
        }

        .btn-container-review {
            padding: 0.7rem 1.5rem;
            background: #0d47a1;
            color: white;
            border: none;
            border-radius: 3px;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.15s ease;
            white-space: nowrap;
            margin-left: 1.5rem;
        }

        .btn-container-review:hover {
            background: #1565c0;
            transform: translateY(-1px);
            box-shadow: 0 3px 6px rgba(13, 71, 161, 0.25);
        }

        .view-all-link {
            margin-top: 1.25rem;
            padding-top: 1.25rem;
            border-top: 1px solid #e8eef2;
            text-align: center;
        }

        .view-all-link a {
            color: #0d47a1;
            font-size: 0.9rem;
            font-weight: 500;
            text-decoration: none;
            transition: all 0.15s ease;
        }

        .view-all-link a:hover {
            color: #1565c0;
            text-decoration: underline;
        }

        .btn {
            padding: 0.875rem 2rem;
            border: none;
            border-radius: 3px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.15s ease;
            letter-spacing: 0.03em;
        }

        .btn-primary {
            background: #0d47a1;
            color: white;
            width: 100%;
            box-shadow: 0 2px 4px rgba(13, 71, 161, 0.15);
        }

        .btn-primary:hover {
            background: #1565c0;
            transform: translateY(-1px);
            box-shadow: 0 3px 6px rgba(13, 71, 161, 0.25);
        }

        .btn-secondary {
            background: white;
            color: #5a6c7d;
            border: 1px solid #d1d9e0;
        }

        .btn-secondary:hover {
            background: #f8fafb;
            border-color: #0d47a1;
            color: #0d47a1;
        }

        /* Product Cards - 2 COLUMN GRID */
        .product-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.25rem;
        }

        .product-card {
            background: white;
            border-radius: 4px;
            padding: 1.75rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.04);
            border: 1px solid #e8eef2;
            transition: all 0.15s ease;
        }

        .product-card:hover {
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border-color: #d1d9e0;
        }

        .product-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
            gap: 0.75rem;
        }

        .product-name {
            font-weight: 700;
            font-size: 0.95rem;
            color: #1a1a1a;
            line-height: 1.3;
            flex: 1;
        }

        .status-badge {
            padding: 0.4rem 0.85rem;
            border-radius: 3px;
            font-size: 0.7rem;
            font-weight: 600;
            white-space: nowrap;
            flex-shrink: 0;
            letter-spacing: 0.05em;
        }

        .status-order-now {
            background: #fff4f4;
            color: #c62828;
            border: 1px solid #ffcdd2;
        }

        .status-critical {
            background: #c62828;
            color: white;
        }

        .status-healthy {
            background: #e8f5e9;
            color: #2e7d32;
            border: 1px solid #a5d6a7;
        }

        /* Proper Chart */
        .chart {
            height: 160px;
            background: #fafbfc;
            border-radius: 3px;
            padding: 0.75rem;
            margin-bottom: 1.25rem;
            position: relative;
            border: 1px solid #e8eef2;
        }

        .chart-svg {
            width: 100%;
            height: 100%;
        }

        /* Product Info */
        .product-info {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
        }

        .info-label {
            color: #6c757d;
            font-weight: 500;
        }

        .info-value {
            font-weight: 600;
            color: #1a1a1a;
        }

        .edit-icon {
            cursor: pointer;
            color: #0d47a1;
            font-size: 0.85rem;
            margin-left: 0.5rem;
            transition: all 0.15s ease;
            opacity: 0.6;
        }

        .edit-icon:hover {
            opacity: 1;
            transform: scale(1.1);
        }

        /* Edit Mode */
        .edit-mode input[type="number"] {
            width: 140px;
            padding: 0.6rem 0.75rem;
            border: 2px solid #0d47a1;
            border-radius: 3px;
            font-size: 0.95rem;
            font-weight: 600;
            background: #f0f7ff;
            color: #0d47a1;
        }

        .edit-mode input[type="number"]:focus {
            outline: none;
            border-color: #1565c0;
            box-shadow: 0 0 0 3px rgba(13, 71, 161, 0.1);
            background: white;
        }

        .edit-controls {
            display: flex;
            gap: 0.75rem;
            margin-top: 1rem;
        }

        .btn-save {
            padding: 0.6rem 1.5rem;
            background: #0d47a1;
            color: white;
            border: none;
            border-radius: 3px;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.15s ease;
        }

        .btn-save:hover {
            background: #1565c0;
        }

        .btn-cancel {
            padding: 0.6rem 1.5rem;
            background: white;
            color: #5a6c7d;
            border: 1px solid #d1d9e0;
            border-radius: 3px;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.15s ease;
        }

        .btn-cancel:hover {
            background: #f8fafb;
        }

        .approved-orders {
            margin-top: 0.75rem;
            padding-top: 0.75rem;
            border-top: 2px solid #e9ecef;
        }

        .order-item {
            color: #495057;
            font-size: 0.8rem;
            margin-top: 0.35rem;
        }

        /* Runs Out - Make it prominent */
        .runs-out-row {
            background: #fff5f5;
            border: 1px solid #fecaca;
            border-radius: 6px;
            padding: 0.5rem 0.75rem;
            margin: 0.75rem 0;
        }

        .runs-out-row .info-label {
            color: #991b1b;
            font-weight: 600;
        }

        .runs-out-row .info-value {
            color: #dc2626;
            font-weight: 700;
            font-size: 0.95rem;
        }

        /* Collapse */
        .collapse-header {
            display: flex;
            justify-content: center;
            padding: 1rem 1.5rem;
            background: white;
            border-radius: 4px;
            cursor: pointer;
            margin-bottom: 1.5rem;
            border: 1px solid #e8eef2;
            font-weight: 500;
            color: #5a6c7d;
            transition: all 0.15s ease;
            font-size: 0.85rem;
            letter-spacing: 0.02em;
        }

        .collapse-header:hover {
            background: #f8fafb;
            border-color: #0d47a1;
            color: #0d47a1;
        }

        .collapse-content {
            display: none;
        }

        .collapse-content.show {
            display: block;
        }

        /* Back Button */
        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.7rem 1.25rem;
            background: white;
            border: 1px solid #d1d9e0;
            border-radius: 3px;
            cursor: pointer;
            margin-bottom: 1.75rem;
            font-size: 0.9rem;
            font-weight: 500;
            color: #5a6c7d;
            transition: all 0.15s ease;
        }

        .back-btn:hover {
            background: #f8fafb;
            border-color: #0d47a1;
            color: #0d47a1;
        }

        /* Orders Page */
        .order-card {
            background: white;
            border-radius: 4px;
            padding: 1.5rem;
            margin-bottom: 1.25rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.04);
            border: 1px solid #e8eef2;
            transition: all 0.3s ease;
        }

        .order-card.highlighted {
            border-color: #0d47a1;
            box-shadow: 0 0 0 3px rgba(13, 71, 161, 0.1), 0 4px 12px rgba(0,0,0,0.1);
            background: #f0f7ff;
        }

        .container-details {
            display: none;
            margin-top: 1.25rem;
            padding-top: 1.25rem;
            border-top: 1px solid #e8eef2;
        }

        .container-details.show {
            display: block;
        }

        .toggle-details-btn {
            padding: 0.7rem 1.5rem;
            background: white;
            color: #0d47a1;
            border: 1px solid #0d47a1;
            border-radius: 3px;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.15s ease;
            margin-top: 0.75rem;
        }

        .toggle-details-btn:hover {
            background: #0d47a1;
            color: white;
        }

        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .order-number {
            font-weight: 700;
            font-size: 1rem;
            color: #1a1a1a;
        }

        .order-status {
            padding: 0.35rem 0.8rem;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 700;
            white-space: nowrap;
        }

        .status-urgent {
            background: #dc3545;
            color: white;
        }

        .status-transit {
            background: #0dcaf0;
            color: white;
        }

        .status-delivered {
            background: #10b981;
            color: white;
        }

        /* Container Review Product Card */
        .review-product {
            border: 1px solid #e8eef2;
            padding: 1.25rem;
            border-radius: 4px;
            margin-bottom: 1.25rem;
            transition: all 0.15s ease;
            background: #fafbfc;
        }

        .review-product:hover {
            border-color: #0d47a1;
            background: white;
        }

        /* Confirmation Page */
        .confirm-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .confirm-title {
            text-align: center;
            font-size: 1.85rem;
            font-weight: 700;
            margin-bottom: 1.75rem;
            color: #1a1a1a;
        }

        .summary-card {
            background: white;
            border-radius: 4px;
            padding: 1.75rem;
            margin-bottom: 1.25rem;
            border: 1px solid #e8eef2;
            box-shadow: 0 1px 3px rgba(0,0,0,0.04);
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            padding: 0.65rem 0;
            border-bottom: 1px solid #f1f3f5;
        }

        .summary-row:last-child {
            border-bottom: none;
            font-weight: 700;
            padding-top: 1rem;
            border-top: 2px solid #e9ecef;
            margin-top: 0.5rem;
        }

        .success-container {
            text-align: center;
            padding: 3.5rem 2rem;
        }

        .success-icon {
            font-size: 4.5rem;
            color: #10b981;
            margin-bottom: 1.25rem;
        }

        .success-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: #1a1a1a;
        }

        .btn-group {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 1.75rem;
        }

        /* Utility */
        .text-center {
            text-align: center;
        }

        .mt-2 {
            margin-top: 1.75rem;
        }

        h1 {
            font-size: 1.65rem;
            font-weight: 700;
            color: #1a1a1a;
            margin-bottom: 1.75rem;
        }

        h3 {
            font-size: 1.05rem;
            font-weight: 700;
            color: #1a1a1a;
        }

        /* Form Elements */
        input[type="text"],
        input[type="number"],
        input[type="date"],
        select,
        textarea {
            padding: 0.65rem;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            font-size: 0.95rem;
            width: 100%;
            transition: border-color 0.2s;
        }

        input[type="number"] {
            width: 150px;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #2563eb;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #1a1a1a;
            font-size: 0.9rem;
        }

        /* Animations */
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }

        /* Typography refinements */
        h1 {
            font-size: 1.75rem;
            font-weight: 500;
            color: #2c3e50;
            margin-bottom: 2rem;
            letter-spacing: -0.01em;
        }

        h3 {
            font-size: 1.1rem;
            font-weight: 500;
            color: #2c3e50;
            letter-spacing: -0.01em;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-left">
            <div class="nav-logo">MyPak Connect</div>
            <div class="nav-tabs">
                <button class="nav-tab active" onclick="showScreen('dashboard')">Dashboard</button>
                <button class="nav-tab" onclick="showScreen('orders')">Orders</button>
            </div>
        </div>
        <div class="nav-right">Valley Park Farms ‚Ä¢ Ian</div>
    </nav>

    <div class="container">
        <!-- Dashboard Screen -->
        <div id="dashboard" class="screen active">
            <!-- Recommendation Card -->
            <div class="card rec-card">
                <div class="rec-header">
                    <div class="rec-title">üí° RECOMMENDATIONS</div>
                    <span class="badge badge-urgent">URGENT</span>
                </div>
                <div class="rec-body">
                    <div class="rec-meta"><strong>3 containers recommended for ordering in next 60 days</strong></div>
                </div>

                <!-- Container 1 -->
                <div class="container-rec-item">
                    <div class="container-rec-info">
                        <div class="container-rec-name">Container 1 ‚Äî Order by Feb 18, 2025</div>
                        <div class="container-rec-details">90,000 cartons ‚Ä¢ 3 products</div>
                        <div class="container-rec-products">Better Eggs FR Size 7 6pk ‚Ä¢ Better Eggs FR Size 8 10pk ‚Ä¢ Henergy Barn Size 7 18pk</div>
                    </div>
                    <button class="btn-container-review" onclick="reviewContainer(1)">Review ‚Üí</button>
                </div>

                <!-- Container 2 -->
                <div class="container-rec-item">
                    <div class="container-rec-info">
                        <div class="container-rec-name">Container 2 ‚Äî Order by Apr 15, 2025</div>
                        <div class="container-rec-details">92,000 cartons ‚Ä¢ 4 products</div>
                        <div class="container-rec-products">Henergy Barn 7 12pk ‚Ä¢ Rise n Shine Colony 7 ‚Ä¢ Better Eggs FR Mixed ‚Ä¢ +1</div>
                    </div>
                    <button class="btn-container-review" onclick="reviewContainer(2)">Review ‚Üí</button>
                </div>

                <!-- Container 3 -->
                <div class="container-rec-item">
                    <div class="container-rec-info">
                        <div class="container-rec-name">Container 3 ‚Äî Order by Jun 20, 2025</div>
                        <div class="container-rec-details">88,000 cartons ‚Ä¢ 3 products</div>
                        <div class="container-rec-products">Better Eggs FR 7 6pk ‚Ä¢ Better Eggs FR 8 10pk ‚Ä¢ Henergy Barn 7 18pk</div>
                    </div>
                    <button class="btn-container-review" onclick="reviewContainer(3)">Review ‚Üí</button>
                </div>

                <div class="view-all-link">
                    <a href="#" onclick="showScreen('orders'); return false;">‚Üí View all 5 recommended orders</a>
                </div>
            </div>

            <!-- Product Cards - 2 COLUMN GRID -->
            <div class="product-grid">
                <!-- Product 1: Henergy Cage Free Jumbo (CRITICAL) -->
                <div class="product-card">
                    <div class="product-header">
                        <div class="product-name">Henergy Cage Free Jumbo 10 Pack</div>
                        <span class="status-badge status-critical">üî¥ CRITICAL</span>
                    </div>

                    <div class="chart">
                        <svg class="chart-svg" viewBox="0 0 500 140">
                            <!-- Grid lines -->
                            <line x1="40" y1="10" x2="40" y2="100" stroke="#e5e7eb" stroke-width="2"/>
                            <line x1="40" y1="100" x2="480" y2="100" stroke="#e5e7eb" stroke-width="2"/>

                            <!-- Y-axis labels -->
                            <text x="35" y="15" text-anchor="end" fill="#6b7280" font-size="10">150K</text>
                            <text x="35" y="55" text-anchor="end" fill="#6b7280" font-size="10">75K</text>
                            <text x="35" y="100" text-anchor="end" fill="#6b7280" font-size="10">0</text>

                            <!-- Target line (135K = 6 weeks supply) -->
                            <line x1="40" y1="20" x2="480" y2="20" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="4,3"/>
                            <text x="45" y="17" fill="#64748b" font-size="9">Target: 135K</text>

                            <!-- Stock decline line (15K current, runs out in 5 days) -->
                            <polyline points="50,90 150,98 180,100" fill="none" stroke="#dc2626" stroke-width="2.5"/>
                            <circle cx="50" cy="90" r="3" fill="#dc2626"/>

                            <!-- Air freight replenishment spike (Feb 15) -->
                            <polyline points="180,100 180,22" fill="none" stroke="#10b981" stroke-width="2" stroke-dasharray="3,2"/>
                            <circle cx="180" cy="22" r="3" fill="#10b981"/>
                            <text x="175" y="18" fill="#059669" font-size="8" font-weight="bold">+135K</text>

                            <!-- Post-replenishment decline -->
                            <polyline points="180,22 320,50 450,85" fill="none" stroke="#059669" stroke-width="2"/>

                            <!-- X-axis dates -->
                            <text x="50" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Feb 11</text>
                            <text x="180" y="115" text-anchor="middle" fill="#059669" font-size="9" font-weight="bold">Feb 15</text>
                            <text x="280" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Mar 1</text>
                            <text x="380" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Mar 15</text>

                            <!-- Stockout marker -->
                            <text x="180" y="108" text-anchor="middle" fill="#dc2626" font-size="10" font-weight="bold">√ó Stockout</text>
                        </svg>
                    </div>

                    <div class="product-info">
                        <div class="info-row">
                            <span class="info-label">Current Stock:</span>
                            <span class="info-value">15,278 <span class="edit-icon" onclick="editProduct(1)">‚úèÔ∏è</span></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Expected Weekly Consumption:</span>
                            <span class="info-value">22,500/week <span class="edit-icon" onclick="editProduct(1)">‚úèÔ∏è</span></span>
                        </div>
                        <div class="runs-out-row">
                            <div class="info-row">
                                <span class="info-label">Runs Out:</span>
                                <span class="info-value">Feb 16, 2025 (5 days)</span>
                            </div>
                        </div>
                        <div class="approved-orders">
                            <div class="info-label">Approved Orders:</div>
                            <div class="order-item">‚Ä¢ Order #MP-2025-0145: 135,000 ‚Üí Air freight Feb 15</div>
                        </div>
                    </div>
                </div>

                <!-- Product 2: Better Eggs FR Size 7 6pk -->
                <div class="product-card">
                    <div class="product-header">
                        <div class="product-name">Better Eggs Free Range Size 7 6 Pack</div>
                        <span class="status-badge status-order-now">üî¥ ORDER NOW</span>
                    </div>

                    <div class="chart">
                        <svg class="chart-svg" viewBox="0 0 500 140">
                            <!-- Grid -->
                            <line x1="40" y1="10" x2="40" y2="100" stroke="#e5e7eb" stroke-width="2"/>
                            <line x1="40" y1="100" x2="480" y2="100" stroke="#e5e7eb" stroke-width="2"/>

                            <!-- Y-axis -->
                            <text x="35" y="15" text-anchor="end" fill="#6b7280" font-size="10">25K</text>
                            <text x="35" y="55" text-anchor="end" fill="#6b7280" font-size="10">12K</text>
                            <text x="35" y="100" text-anchor="end" fill="#6b7280" font-size="10">0</text>

                            <!-- Target line (20K) -->
                            <line x1="40" y1="30" x2="480" y2="30" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="4,3"/>
                            <text x="45" y="27" fill="#64748b" font-size="9">Target: 20K</text>

                            <!-- Decline line (13K current, 3.9 weeks = ~27 days) -->
                            <polyline points="50,55 220,100" fill="none" stroke="#dc2626" stroke-width="2.5"/>
                            <circle cx="50" cy="55" r="3" fill="#dc2626"/>

                            <!-- X-axis dates -->
                            <text x="50" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Feb 11</text>
                            <text x="135" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Feb 25</text>
                            <text x="220" y="115" text-anchor="middle" fill="#dc2626" font-size="9" font-weight="bold">Mar 4</text>
                            <text x="305" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Mar 18</text>

                            <!-- Stockout marker -->
                            <text x="220" y="108" text-anchor="middle" fill="#dc2626" font-size="10" font-weight="bold">√ó</text>
                        </svg>
                    </div>

                    <div class="product-info">
                        <div class="info-row">
                            <span class="info-label">Current Stock:</span>
                            <span class="info-value">13,195 <span class="edit-icon" onclick="editProduct(2)">‚úèÔ∏è</span></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Expected Weekly Consumption:</span>
                            <span class="info-value">3,350/week <span class="edit-icon" onclick="editProduct(2)">‚úèÔ∏è</span></span>
                        </div>
                        <div class="runs-out-row">
                            <div class="info-row">
                                <span class="info-label">Runs Out:</span>
                                <span class="info-value">March 4, 2025 (3 weeks)</span>
                            </div>
                        </div>
                        <div class="approved-orders">
                            <div class="info-label">Approved Orders:</div>
                            <div class="order-item" style="color: #6c757d;">No approved orders yet</div>
                        </div>
                    </div>
                </div>

                <!-- Product 3: Better Eggs FR Mixed 12pk -->
                <div class="product-card">
                    <div class="product-header">
                        <div class="product-name">Better Eggs Free Range Mixed Grade 12 Pack</div>
                        <span class="status-badge status-order-now">üî¥ ORDER NOW</span>
                    </div>

                    <div class="chart">
                        <svg class="chart-svg" viewBox="0 0 500 140">
                            <!-- Grid -->
                            <line x1="40" y1="10" x2="40" y2="100" stroke="#e5e7eb" stroke-width="2"/>
                            <line x1="40" y1="100" x2="480" y2="100" stroke="#e5e7eb" stroke-width="2"/>

                            <!-- Y-axis -->
                            <text x="35" y="15" text-anchor="end" fill="#6b7280" font-size="10">200K</text>
                            <text x="35" y="55" text-anchor="end" fill="#6b7280" font-size="10">100K</text>
                            <text x="35" y="100" text-anchor="end" fill="#6b7280" font-size="10">0</text>

                            <!-- Target line (150K) -->
                            <line x1="40" y1="35" x2="480" y2="35" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="4,3"/>
                            <text x="45" y="32" fill="#64748b" font-size="9">Target: 150K</text>

                            <!-- Decline line (167K current, runs out in ~6.7 weeks = 47 days) -->
                            <polyline points="50,25 210,60 310,100" fill="none" stroke="#dc2626" stroke-width="2.5"/>
                            <circle cx="50" cy="25" r="3" fill="#dc2626"/>

                            <!-- Approved order replenishment (March 10) -->
                            <polyline points="280,85 280,32" fill="none" stroke="#10b981" stroke-width="2" stroke-dasharray="3,2"/>
                            <circle cx="280" cy="32" r="3" fill="#10b981"/>
                            <text x="275" y="28" fill="#059669" font-size="8" font-weight="bold">+150K</text>

                            <!-- Post-replenishment -->
                            <polyline points="280,32 380,50 460,70" fill="none" stroke="#059669" stroke-width="2"/>

                            <!-- X-axis dates -->
                            <text x="50" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Feb 11</text>
                            <text x="165" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Feb 25</text>
                            <text x="280" y="115" text-anchor="middle" fill="#059669" font-size="9" font-weight="bold">Mar 10</text>
                            <text x="395" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Mar 24</text>
                        </svg>
                    </div>

                    <div class="product-info">
                        <div class="info-row">
                            <span class="info-label">Current Stock:</span>
                            <span class="info-value">167,102 <span class="edit-icon" onclick="editProduct(3)">‚úèÔ∏è</span></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Expected Weekly Consumption:</span>
                            <span class="info-value">25,000/week <span class="edit-icon" onclick="editProduct(3)">‚úèÔ∏è</span></span>
                        </div>
                        <div class="runs-out-row">
                            <div class="info-row">
                                <span class="info-label">Runs Out:</span>
                                <span class="info-value">March 27, 2025 (6 weeks)</span>
                            </div>
                        </div>
                        <div class="approved-orders">
                            <div class="info-label">Approved Orders:</div>
                            <div class="order-item">‚Ä¢ Order #MP-2025-0099: 150,000 ‚Üí March 10</div>
                        </div>
                    </div>
                </div>

                <!-- Product 4: Henergy Barn Size 7 12pk -->
                <div class="product-card">
                    <div class="product-header">
                        <div class="product-name">Henergy Barn Size 7 12 Pack</div>
                        <span class="status-badge status-order-now">üî¥ ORDER NOW</span>
                    </div>

                    <div class="chart">
                        <svg class="chart-svg" viewBox="0 0 500 140">
                            <line x1="40" y1="10" x2="40" y2="100" stroke="#e5e7eb" stroke-width="2"/>
                            <line x1="40" y1="100" x2="480" y2="100" stroke="#e5e7eb" stroke-width="2"/>
                            <text x="35" y="15" text-anchor="end" fill="#6b7280" font-size="10">250K</text>
                            <text x="35" y="100" text-anchor="end" fill="#6b7280" font-size="10">0</text>
                            <line x1="40" y1="40" x2="480" y2="40" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="4,3"/>
                            <text x="45" y="37" fill="#64748b" font-size="9">Target: 150K</text>
                            <polyline points="50,28 280,70 400,100" fill="none" stroke="#dc2626" stroke-width="2.5"/>
                            <circle cx="50" cy="28" r="3" fill="#dc2626"/>
                            <text x="50" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Feb 11</text>
                            <text x="280" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Mar 15</text>
                            <text x="400" y="115" text-anchor="middle" fill="#dc2626" font-size="9" font-weight="bold">Apr 8</text>
                            <text x="400" y="108" text-anchor="middle" fill="#dc2626" font-size="10" font-weight="bold">√ó</text>
                        </svg>
                    </div>

                    <div class="product-info">
                        <div class="info-row">
                            <span class="info-label">Current Stock:</span>
                            <span class="info-value">216,870 <span class="edit-icon" onclick="editProduct(4)">‚úèÔ∏è</span></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Expected Weekly Consumption:</span>
                            <span class="info-value">25,000/week <span class="edit-icon" onclick="editProduct(4)">‚úèÔ∏è</span></span>
                        </div>
                        <div class="runs-out-row">
                            <div class="info-row">
                                <span class="info-label">Runs Out:</span>
                                <span class="info-value">April 8, 2025 (8 weeks)</span>
                            </div>
                        </div>
                        <div class="approved-orders">
                            <div class="info-label">Approved Orders:</div>
                            <div class="order-item" style="color: #6c757d;">No approved orders yet</div>
                        </div>
                    </div>
                </div>

                <!-- Product 5: Rise n Shine Colony Size 7 -->
                <div class="product-card">
                    <div class="product-header">
                        <div class="product-name">Rise n Shine COLONY Laid Size 7 12 Pack</div>
                        <span class="status-badge status-order-now">üî¥ ORDER NOW</span>
                    </div>

                    <div class="chart">
                        <svg class="chart-svg" viewBox="0 0 500 140">
                            <line x1="40" y1="10" x2="40" y2="100" stroke="#e5e7eb" stroke-width="2"/>
                            <line x1="40" y1="100" x2="480" y2="100" stroke="#e5e7eb" stroke-width="2"/>
                            <text x="35" y="15" text-anchor="end" fill="#6b7280" font-size="10">400K</text>
                            <text x="35" y="100" text-anchor="end" fill="#6b7280" font-size="10">0</text>
                            <line x1="40" y1="42" x2="480" y2="42" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="4,3"/>
                            <text x="45" y="39" fill="#64748b" font-size="9">Target: 255K</text>
                            <polyline points="50,18 300,72 410,100" fill="none" stroke="#dc2626" stroke-width="2.5"/>
                            <circle cx="50" cy="18" r="3" fill="#dc2626"/>
                            <text x="50" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Feb 11</text>
                            <text x="300" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Mar 20</text>
                            <text x="410" y="115" text-anchor="middle" fill="#dc2626" font-size="9" font-weight="bold">Apr 13</text>
                            <text x="410" y="108" text-anchor="middle" fill="#dc2626" font-size="10" font-weight="bold">√ó</text>
                        </svg>
                    </div>

                    <div class="product-info">
                        <div class="info-row">
                            <span class="info-label">Current Stock:</span>
                            <span class="info-value">383,242 <span class="edit-icon" onclick="editProduct(5)">‚úèÔ∏è</span></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Expected Weekly Consumption:</span>
                            <span class="info-value">42,500/week <span class="edit-icon" onclick="editProduct(5)">‚úèÔ∏è</span></span>
                        </div>
                        <div class="runs-out-row">
                            <div class="info-row">
                                <span class="info-label">Runs Out:</span>
                                <span class="info-value">April 13, 2025 (9 weeks)</span>
                            </div>
                        </div>
                        <div class="approved-orders">
                            <div class="info-label">Approved Orders:</div>
                            <div class="order-item" style="color: #6c757d;">No approved orders yet</div>
                        </div>
                    </div>
                </div>

                <!-- Product 6: Henergy Barn Size 7 18pk -->
                <div class="product-card">
                    <div class="product-header">
                        <div class="product-name">Henergy Barn Size 7 18 Pack</div>
                        <span class="status-badge status-order-now">üî¥ ORDER NOW</span>
                    </div>

                    <div class="chart">
                        <svg class="chart-svg" viewBox="0 0 500 140">
                            <line x1="40" y1="10" x2="40" y2="100" stroke="#e5e7eb" stroke-width="2"/>
                            <line x1="40" y1="100" x2="480" y2="100" stroke="#e5e7eb" stroke-width="2"/>
                            <text x="35" y="15" text-anchor="end" fill="#6b7280" font-size="10">120K</text>
                            <text x="35" y="100" text-anchor="end" fill="#6b7280" font-size="10">0</text>
                            <line x1="40" y1="55" x2="480" y2="55" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="4,3"/>
                            <text x="45" y="52" fill="#64748b" font-size="9">Target: 60K</text>
                            <polyline points="50,32 310,78 420,100" fill="none" stroke="#dc2626" stroke-width="2.5"/>
                            <circle cx="50" cy="32" r="3" fill="#dc2626"/>
                            <text x="50" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Feb 11</text>
                            <text x="310" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Mar 22</text>
                            <text x="420" y="115" text-anchor="middle" fill="#dc2626" font-size="9" font-weight="bold">Apr 15</text>
                            <text x="420" y="108" text-anchor="middle" fill="#dc2626" font-size="10" font-weight="bold">√ó</text>
                        </svg>
                    </div>

                    <div class="product-info">
                        <div class="info-row">
                            <span class="info-label">Current Stock:</span>
                            <span class="info-value">93,200 <span class="edit-icon" onclick="editProduct(6)">‚úèÔ∏è</span></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Expected Weekly Consumption:</span>
                            <span class="info-value">10,000/week <span class="edit-icon" onclick="editProduct(6)">‚úèÔ∏è</span></span>
                        </div>
                        <div class="runs-out-row">
                            <div class="info-row">
                                <span class="info-label">Runs Out:</span>
                                <span class="info-value">April 15, 2025 (9 weeks)</span>
                            </div>
                        </div>
                        <div class="approved-orders">
                            <div class="info-label">Approved Orders:</div>
                            <div class="order-item" style="color: #6c757d;">No approved orders yet</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Healthy Products Collapse -->
            <div class="collapse-header" onclick="toggleCollapse()">
                <span id="collapse-toggle">‚úì 4 HEALTHY PRODUCTS (12+ weeks supply) ‚Äî Show ‚ñº</span>
            </div>
            <div id="healthy-products" class="collapse-content">
                <div class="product-grid">
                    <!-- Countdown Barn Mixed (14.7 weeks) -->
                    <div class="product-card">
                        <div class="product-header">
                            <div class="product-name">Countdown Barn Eggs Mixed 20 Pack</div>
                            <span class="status-badge status-healthy">‚úì HEALTHY</span>
                        </div>

                        <div class="chart">
                            <svg class="chart-svg" viewBox="0 0 500 140">
                                <line x1="40" y1="10" x2="40" y2="100" stroke="#e5e7eb" stroke-width="2"/>
                                <line x1="40" y1="100" x2="480" y2="100" stroke="#e5e7eb" stroke-width="2"/>
                                <text x="35" y="15" text-anchor="end" fill="#6b7280" font-size="10">250K</text>
                                <text x="35" y="100" text-anchor="end" fill="#6b7280" font-size="10">0</text>

                                <!-- Target line (91.5K = 6 weeks) -->
                                <line x1="40" y1="70" x2="480" y2="70" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="4,3"/>
                                <text x="45" y="67" fill="#64748b" font-size="9">Target: 91.5K</text>

                                <!-- Gentle decline (223K current, 14.7 weeks) -->
                                <polyline points="50,22 200,35 350,50 480,65" fill="none" stroke="#059669" stroke-width="2.5"/>
                                <circle cx="50" cy="22" r="3" fill="#059669"/>

                                <text x="50" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Feb 11</text>
                                <text x="200" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Mar 15</text>
                                <text x="350" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Apr 20</text>
                                <text x="480" y="115" text-anchor="middle" fill="#6b7280" font-size="9">May 25</text>
                            </svg>
                        </div>

                        <div class="product-info">
                            <div class="info-row">
                                <span class="info-label">Current Stock:</span>
                                <span class="info-value">223,588 <span class="edit-icon" onclick="editProduct(7)">‚úèÔ∏è</span></span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Expected Weekly Consumption:</span>
                                <span class="info-value">15,250/week <span class="edit-icon" onclick="editProduct(7)">‚úèÔ∏è</span></span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Safe for:</span>
                                <span class="info-value" style="color: #059669;">14.7 weeks</span>
                            </div>
                        </div>
                    </div>

                    <!-- Henergy Barn Size 6 18pk (20.3 weeks) -->
                    <div class="product-card">
                        <div class="product-header">
                            <div class="product-name">Henergy Barn Size 6 18 Pack</div>
                            <span class="status-badge status-healthy">‚úì HEALTHY</span>
                        </div>

                        <div class="chart">
                            <svg class="chart-svg" viewBox="0 0 500 140">
                                <line x1="40" y1="10" x2="40" y2="100" stroke="#e5e7eb" stroke-width="2"/>
                                <line x1="40" y1="100" x2="480" y2="100" stroke="#e5e7eb" stroke-width="2"/>
                                <text x="35" y="15" text-anchor="end" fill="#6b7280" font-size="10">400K</text>
                                <text x="35" y="100" text-anchor="end" fill="#6b7280" font-size="10">0</text>

                                <!-- Target line (108K = 6 weeks) -->
                                <line x1="40" y1="75" x2="480" y2="75" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="4,3"/>
                                <text x="45" y="72" fill="#64748b" font-size="9">Target: 108K</text>

                                <!-- Very gentle decline (366K current, 20.3 weeks) -->
                                <polyline points="50,15 200,28 350,45 480,58" fill="none" stroke="#059669" stroke-width="2.5"/>
                                <circle cx="50" cy="15" r="3" fill="#059669"/>

                                <text x="50" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Feb 11</text>
                                <text x="200" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Apr 1</text>
                                <text x="350" y="115" text-anchor="middle" fill="#6b7280" font-size="9">May 20</text>
                                <text x="480" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Jul 8</text>
                            </svg>
                        </div>

                        <div class="product-info">
                            <div class="info-row">
                                <span class="info-label">Current Stock:</span>
                                <span class="info-value">366,024 <span class="edit-icon" onclick="editProduct(8)">‚úèÔ∏è</span></span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Expected Weekly Consumption:</span>
                                <span class="info-value">18,000/week <span class="edit-icon" onclick="editProduct(8)">‚úèÔ∏è</span></span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Safe for:</span>
                                <span class="info-value" style="color: #059669;">20.3 weeks</span>
                            </div>
                        </div>
                    </div>

                    <!-- Pams Barn Mixed (51.4 weeks) -->
                    <div class="product-card">
                        <div class="product-header">
                            <div class="product-name">Pams Barn Mixed 20 Cell Tray</div>
                            <span class="status-badge status-healthy">‚úì HEALTHY</span>
                        </div>

                        <div class="chart">
                            <svg class="chart-svg" viewBox="0 0 500 140">
                                <line x1="40" y1="10" x2="40" y2="100" stroke="#e5e7eb" stroke-width="2"/>
                                <line x1="40" y1="100" x2="480" y2="100" stroke="#e5e7eb" stroke-width="2"/>
                                <text x="35" y="15" text-anchor="end" fill="#6b7280" font-size="10">80K</text>
                                <text x="35" y="100" text-anchor="end" fill="#6b7280" font-size="10">0</text>

                                <!-- Target line (9K = 6 weeks) -->
                                <line x1="40" y1="92" x2="480" y2="92" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="4,3"/>
                                <text x="45" y="89" fill="#64748b" font-size="9">Target: 9K</text>

                                <!-- Almost flat line (77K current, 51.4 weeks) -->
                                <polyline points="50,18 200,20 350,23 480,25" fill="none" stroke="#059669" stroke-width="2.5"/>
                                <circle cx="50" cy="18" r="3" fill="#059669"/>

                                <text x="50" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Feb 11</text>
                                <text x="200" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Jun 1</text>
                                <text x="350" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Oct 1</text>
                                <text x="480" y="115" text-anchor="middle" fill="#6b7280" font-size="9">Feb 11 '26</text>
                            </svg>
                        </div>

                        <div class="product-info">
                            <div class="info-row">
                                <span class="info-label">Current Stock:</span>
                                <span class="info-value">77,050 <span class="edit-icon" onclick="editProduct(9)">‚úèÔ∏è</span></span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Expected Weekly Consumption:</span>
                                <span class="info-value">1,500/week <span class="edit-icon" onclick="editProduct(9)">‚úèÔ∏è</span></span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Safe for:</span>
                                <span class="info-value" style="color: #059669;">51.4 weeks</span>
                            </div>
                        </div>
                    </div>

                    <!-- Better Eggs FR Size 7 18pk (451 weeks) -->
                    <div class="product-card">
                        <div class="product-header">
                            <div class="product-name">Better Eggs Free Range Size 7 18 Pack</div>
                            <span class="status-badge status-healthy">‚úì HEALTHY</span>
                        </div>

                        <div class="chart">
                            <svg class="chart-svg" viewBox="0 0 500 140">
                                <line x1="40" y1="10" x2="40" y2="100" stroke="#e5e7eb" stroke-width="2"/>
                                <line x1="40" y1="100" x2="480" y2="100" stroke="#e5e7eb" stroke-width="2"/>
                                <text x="35" y="15" text-anchor="end" fill="#6b7280" font-size="10">220K</text>
                                <text x="35" y="100" text-anchor="end" fill="#6b7280" font-size="10">0</text>

                                <!-- Target line (2.7K = 6 weeks) -->
                                <line x1="40" y1="98" x2="480" y2="98" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="4,3"/>
                                <text x="45" y="95" fill="#64748b" font-size="9">Target: 2.7K</text>

                                <!-- Basically flat line (203K current, 451 weeks = 8.7 years!) -->
                                <polyline points="50,15 200,15 350,16 480,16" fill="none" stroke="#059669" stroke-width="2.5"/>
                                <circle cx="50" cy="15" r="3" fill="#059669"/>

                                <text x="50" y="115" text-anchor="middle" fill="#6b7280" font-size="9">2025</text>
                                <text x="200" y="115" text-anchor="middle" fill="#6b7280" font-size="9">2027</text>
                                <text x="350" y="115" text-anchor="middle" fill="#6b7280" font-size="9">2030</text>
                                <text x="480" y="115" text-anchor="middle" fill="#6b7280" font-size="9">2033+</text>
                            </svg>
                        </div>

                        <div class="product-info">
                            <div class="info-row">
                                <span class="info-label">Current Stock:</span>
                                <span class="info-value">203,300 <span class="edit-icon" onclick="editProduct(10)">‚úèÔ∏è</span></span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Expected Weekly Consumption:</span>
                                <span class="info-value">450/week <span class="edit-icon" onclick="editProduct(10)">‚úèÔ∏è</span></span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Safe for:</span>
                                <span class="info-value" style="color: #059669;">451+ weeks</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Container Review Screen -->
        <div id="container-review" class="screen">
            <button class="back-btn" onclick="showScreen('dashboard')">‚Üê Dashboard</button>

            <h1>CONTAINER 1 ‚Äî ORDER BY FEB 18, 2025</h1>

            <!-- Container Summary -->
            <div class="card">
                <div class="card-header">CONTAINER 1</div>
                <div style="display: grid; gap: 0.65rem;">
                    <div><strong>Order by:</strong> Feb 18, 2025</div>
                    <div><strong>Expected Delivery:</strong> April 1, 2025 (6 weeks)</div>
                    <div><strong>Total:</strong> <span id="container-total" style="font-size: 1.2rem; color: #2563eb; font-weight: 700;">90,000</span> cartons (1.0 containers)</div>
                    <div style="color: #6c757d; font-size: 0.85rem;">Container capacity: 90,000-95,000 cartons</div>
                </div>
            </div>

            <!-- Products in Container -->
            <div class="card">
                <div class="card-header">PRODUCTS IN THIS CONTAINER (3)</div>

                <div style="display: grid; gap: 1rem;">
                    <div class="review-product">
                        <div style="font-weight: 700; margin-bottom: 0.4rem; font-size: 1rem;">Better Eggs Free Range Size 7 6 Pack</div>
                        <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 0.85rem;">
                            Current: 13,195 ‚Üí Using 3,350/week ‚Üí Runs out Mar 4
                        </div>
                        <div class="form-group">
                            <label class="form-label">Quantity:</label>
                            <input type="number" class="qty-input" value="25000" onchange="updateTotal()"> cartons
                        </div>
                        <div style="color: #059669; font-size: 0.85rem; font-weight: 600;">
                            After delivery: 38,195 (11.4 weeks supply) ‚úì
                        </div>
                    </div>

                    <div class="review-product">
                        <div style="font-weight: 700; margin-bottom: 0.4rem; font-size: 1rem;">Better Eggs Free Range Size 8 10 Pack</div>
                        <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 0.85rem;">
                            Current: 89,013 ‚Üí Using 8,500/week ‚Üí Runs out Apr 18
                        </div>
                        <div class="form-group">
                            <label class="form-label">Quantity:</label>
                            <input type="number" class="qty-input" value="35000" onchange="updateTotal()"> cartons
                        </div>
                        <div style="color: #059669; font-size: 0.85rem; font-weight: 600;">
                            After delivery: 124,013 (14.6 weeks supply) ‚úì
                        </div>
                    </div>

                    <div class="review-product">
                        <div style="font-weight: 700; margin-bottom: 0.4rem; font-size: 1rem;">Henergy Barn Size 7 18 Pack</div>
                        <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 0.85rem;">
                            Current: 93,200 ‚Üí Using 10,000/week ‚Üí Runs out Apr 15
                        </div>
                        <div class="form-group">
                            <label class="form-label">Quantity:</label>
                            <input type="number" class="qty-input" value="30000" onchange="updateTotal()"> cartons
                        </div>
                        <div style="color: #059669; font-size: 0.85rem; font-weight: 600;">
                            After delivery: 123,200 (12.3 weeks supply) ‚úì
                        </div>
                    </div>
                </div>
            </div>

            <!-- Add More Products -->
            <div class="collapse-header" onclick="toggleAddProducts()">
                <span id="add-products-toggle">+ ADD MORE PRODUCTS TO THIS ORDER</span>
            </div>
            <div id="add-products" class="collapse-content">
                <div class="card">
                    <div style="display: grid; gap: 1rem;">
                        <div class="review-product">
                            <div style="font-weight: 700; margin-bottom: 0.4rem;">Better Eggs Free Range Size 7 12 Pack</div>
                            <div style="color: #6c757d; font-size: 0.8rem; margin-bottom: 0.75rem;">
                                Current: 190,054 ‚Üí Using 18,000/week ‚Üí Runs out Apr 21
                            </div>
                            <div class="form-group">
                                <label class="form-label">Quantity:</label>
                                <input type="number" class="qty-input" value="0" onchange="updateTotal()"> cartons
                            </div>
                        </div>

                        <div class="review-product">
                            <div style="font-weight: 700; margin-bottom: 0.4rem;">Henergy Barn Size 6 12 Pack</div>
                            <div style="color: #6c757d; font-size: 0.8rem; margin-bottom: 0.75rem;">
                                Current: 379,078 ‚Üí Using 35,000/week ‚Üí Runs out Apr 21
                            </div>
                            <div class="form-group">
                                <label class="form-label">Quantity:</label>
                                <input type="number" class="qty-input" value="0" onchange="updateTotal()"> cartons
                            </div>
                        </div>

                        <div class="review-product">
                            <div style="font-weight: 700; margin-bottom: 0.4rem;">Rise n Shine COLONY Laid Mixed 18 Pack</div>
                            <div style="color: #6c757d; font-size: 0.8rem; margin-bottom: 0.75rem;">
                                Current: 281,420 ‚Üí Using 23,500/week ‚Üí Runs out Apr 27
                            </div>
                            <div class="form-group">
                                <label class="form-label">Quantity:</label>
                                <input type="number" class="qty-input" value="0" onchange="updateTotal()"> cartons
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Shipping Details -->
            <div class="card">
                <div class="card-header">SHIPPING DETAILS</div>

                <div class="form-group">
                    <label class="form-label">Preferred Container Arrive Time:</label>
                    <label style="display: block; margin-bottom: 0.4rem;">
                        <input type="radio" name="arrival" value="standard" checked> <strong>Standard</strong> (approx. 6 weeks)
                    </label>
                    <label style="display: block; margin-bottom: 0.4rem;">
                        <input type="radio" name="arrival" value="urgent"> <strong>Urgent</strong> (extra charges apply)
                    </label>
                    <label style="display: block;">
                        <input type="radio" name="arrival" value="specific"> <strong>Specific Date:</strong>
                        <input type="date" style="width: 180px; margin-left: 0.5rem;">
                    </label>
                </div>

                <div class="form-group">
                    <label class="form-label">Shipping Term (Required):</label>
                    <select>
                        <option>DDP - Delivered Duty Paid</option>
                        <option>FOB - Free On Board</option>
                        <option>CIF - Cost, Insurance and Freight</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Customer Order Number (optional):</label>
                    <input type="text" placeholder="e.g., PO-2025-FEB-EGGS">
                </div>

                <div class="form-group">
                    <label class="form-label">Comments (optional, max 230 characters):</label>
                    <textarea rows="3" maxlength="230" placeholder="Add any special instructions..."></textarea>
                </div>
            </div>

            <!-- Actions -->
            <button class="btn btn-primary" onclick="showScreen('confirmation')">
                APPROVE ORDER ‚Äî <span id="approve-total">90,000</span> CARTONS
            </button>
            <div class="text-center mt-2">
                <button class="btn btn-secondary" onclick="showScreen('dashboard')">Cancel</button>
            </div>
        </div>

        <!-- Confirmation Screen -->
        <div id="confirmation" class="screen">
            <div class="confirm-container">
                <button class="back-btn" onclick="showScreen('container-review')">‚Üê Back to Review</button>

                <h1 class="confirm-title">CONFIRM YOUR ORDER</h1>

                <div class="summary-card">
                    <h3 style="margin-bottom: 0.85rem;">Container 1</h3>
                    <div style="display: grid; gap: 0.6rem; margin-bottom: 0.85rem; color: #495057;">
                        <div><strong>Order by:</strong> Feb 18, 2025</div>
                        <div><strong>Expected Delivery:</strong> April 1, 2025 (6 weeks)</div>
                        <div><strong>Shipping Term:</strong> DDP - Delivered Duty Paid</div>
                    </div>
                </div>

                <div class="summary-card">
                    <h3 style="margin-bottom: 1rem;">PRODUCTS (3)</h3>
                    <div class="summary-row">
                        <span>Better Eggs Free Range Size 7 6 Pack</span>
                        <span><strong>25,000 cartons</strong></span>
                    </div>
                    <div class="summary-row">
                        <span>Better Eggs Free Range Size 8 10 Pack</span>
                        <span><strong>35,000 cartons</strong></span>
                    </div>
                    <div class="summary-row">
                        <span>Henergy Barn Size 7 18 Pack</span>
                        <span><strong>30,000 cartons</strong></span>
                    </div>
                    <div class="summary-row">
                        <span style="font-size: 1.05rem;">Total:</span>
                        <span style="font-size: 1.05rem; color: #2563eb;">90,000 cartons</span>
                    </div>
                </div>

                <div class="summary-card">
                    <h3 style="margin-bottom: 0.85rem;">ADDITIONAL DETAILS</h3>
                    <div style="color: #495057; margin-bottom: 0.6rem;"><strong>Customer Order Number:</strong> PO-2025-FEB-EGGS</div>
                    <div style="color: #495057;"><strong>Comments:</strong> Please prioritize delivery by end of March</div>
                </div>

                <div class="summary-card" style="background: linear-gradient(135deg, #e0f2fe 0%, #f0f9ff 100%); border: 2px solid #0ea5e9;">
                    <div style="text-align: center; color: #0c4a6e;">
                        <div style="font-size: 1.4rem; margin-bottom: 0.4rem;">‚úâÔ∏è</div>
                        A confirmation email will be sent to:<br>
                        <strong style="font-size: 1rem;">ian@valleyparkfarms.com</strong>
                    </div>
                </div>

                <button class="btn btn-primary" onclick="submitOrder()">
                    CONFIRM & SUBMIT ORDER
                </button>
                <div class="text-center mt-2">
                    <button class="btn btn-secondary" onclick="showScreen('container-review')">‚Üê Go Back & Edit</button>
                </div>
            </div>
        </div>

        <!-- Success Screen -->
        <div id="success" class="screen">
            <div class="success-container">
                <div class="success-icon">‚úì</div>
                <h1 class="success-title">ORDER SUBMITTED</h1>
                <p style="color: #6c757d; margin-bottom: 0.85rem; font-size: 1rem;">
                    Order <strong>#MP-2025-0178</strong> has been sent to MyPak<br>
                    Confirmation email sent to <strong>ian@valleyparkfarms.com</strong>
                </p>
                <p style="font-weight: 700; font-size: 1.1rem; color: #1a1a1a;">Expected Delivery: April 1, 2025</p>

                <div class="btn-group">
                    <button class="btn btn-secondary" onclick="showScreen('orders')">View All Orders</button>
                    <button class="btn btn-primary" onclick="showScreen('dashboard')">Back to Dashboard</button>
                </div>
            </div>
        </div>

        <!-- Orders Screen -->
        <div id="orders" class="screen">
            <h1>Orders</h1>

            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.85rem;">
                    <div class="card-header" style="margin: 0;">RECOMMENDED CONTAINERS (Next 12 months)</div>
                    <button class="btn btn-secondary" style="padding: 0.65rem 1.35rem;">+ Create New Order</button>
                </div>
                <div style="color: #6c757d; font-size: 0.85rem; margin-bottom: 1.25rem;">
                    Based on 6-week safety stock and current consumption rates
                </div>

                <!-- Container 1 -->
                <div class="order-card" id="container-1">
                    <div class="order-header">
                        <div>
                            <div class="order-number">Container 1 ‚Äî Order by Feb 18, 2025</div>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-top: 0.4rem;">Delivery: April 1, 2025 ‚Ä¢ 90,000 cartons</div>
                            <div style="color: #6c757d; font-size: 0.85rem;">3 products: Better Eggs FR Size 7 6pk ‚Ä¢ Better Eggs FR Size 8 10pk ‚Ä¢ Henergy Barn 7 18pk</div>
                        </div>
                        <span class="order-status status-urgent">URGENT</span>
                    </div>
                    <button class="toggle-details-btn" onclick="toggleContainerDetails(1)">Review Details ‚ñº</button>

                    <!-- Expandable Details -->
                    <div class="container-details">
                        <div style="margin-bottom: 1.25rem;">
                            <h4 style="font-size: 0.9rem; font-weight: 600; margin-bottom: 0.75rem; color: #2c3e50;">Products in This Container</h4>
                            <div class="review-product">
                                <div style="font-weight: 600; margin-bottom: 0.4rem;">Better Eggs FR Size 7 6pk</div>
                                <div style="color: #5a6c7d; font-size: 0.85rem;">Current: 13,195 ‚Üí Using 3,350/week ‚Üí Runs out Mar 4</div>
                                <div style="color: #0d47a1; font-size: 0.85rem; margin-top: 0.5rem; font-weight: 500;">Recommended: 25,000 cartons</div>
                            </div>
                            <div class="review-product">
                                <div style="font-weight: 600; margin-bottom: 0.4rem;">Better Eggs FR Size 8 10pk</div>
                                <div style="color: #5a6c7d; font-size: 0.85rem;">Current: 89,013 ‚Üí Using 8,500/week ‚Üí Runs out Apr 18</div>
                                <div style="color: #0d47a1; font-size: 0.85rem; margin-top: 0.5rem; font-weight: 500;">Recommended: 35,000 cartons</div>
                            </div>
                            <div class="review-product">
                                <div style="font-weight: 600; margin-bottom: 0.4rem;">Henergy Barn Size 7 18pk</div>
                                <div style="color: #5a6c7d; font-size: 0.85rem;">Current: 93,200 ‚Üí Using 10,000/week ‚Üí Runs out Apr 15</div>
                                <div style="color: #0d47a1; font-size: 0.85rem; margin-top: 0.5rem; font-weight: 500;">Recommended: 30,000 cartons</div>
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="showScreen('container-review')">Proceed to Full Review & Order</button>
                    </div>
                </div>

                <!-- Container 2 -->
                <div class="order-card" id="container-2">
                    <div class="order-header">
                        <div>
                            <div class="order-number">Container 2 ‚Äî Order by April 15, 2025</div>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-top: 0.4rem;">Delivery: May 27, 2025 ‚Ä¢ 92,000 cartons</div>
                            <div style="color: #6c757d; font-size: 0.85rem;">4 products: Henergy Barn 7 12pk ‚Ä¢ Rise n Shine Colony 7 ‚Ä¢ Better Eggs FR Mixed ‚Ä¢ +1</div>
                        </div>
                        <span class="order-status status-urgent">URGENT</span>
                    </div>
                    <button class="toggle-details-btn" onclick="toggleContainerDetails(2)">Review Details ‚ñº</button>

                    <!-- Expandable Details -->
                    <div class="container-details">
                        <div style="margin-bottom: 1.25rem;">
                            <h4 style="font-size: 0.9rem; font-weight: 600; margin-bottom: 0.75rem; color: #2c3e50;">Products in This Container</h4>
                            <div class="review-product">
                                <div style="font-weight: 600; margin-bottom: 0.4rem;">Henergy Barn Size 7 12pk</div>
                                <div style="color: #5a6c7d; font-size: 0.85rem;">Current: 216,870 ‚Üí Using 25,000/week ‚Üí Runs out Apr 8</div>
                                <div style="color: #0d47a1; font-size: 0.85rem; margin-top: 0.5rem; font-weight: 500;">Recommended: 32,000 cartons</div>
                            </div>
                            <div class="review-product">
                                <div style="font-weight: 600; margin-bottom: 0.4rem;">Rise n Shine Colony Size 7</div>
                                <div style="color: #5a6c7d; font-size: 0.85rem;">Current: 383,242 ‚Üí Using 42,500/week ‚Üí Runs out Apr 13</div>
                                <div style="color: #0d47a1; font-size: 0.85rem; margin-top: 0.5rem; font-weight: 500;">Recommended: 35,000 cartons</div>
                            </div>
                            <div class="review-product">
                                <div style="font-weight: 600; margin-bottom: 0.4rem;">Better Eggs FR Mixed 12pk</div>
                                <div style="color: #5a6c7d; font-size: 0.85rem;">Current: 167,102 ‚Üí Using 25,000/week ‚Üí Runs out Mar 27</div>
                                <div style="color: #0d47a1; font-size: 0.85rem; margin-top: 0.5rem; font-weight: 500;">Recommended: 20,000 cartons</div>
                            </div>
                            <div class="review-product">
                                <div style="font-weight: 600; margin-bottom: 0.4rem;">Henergy Barn Size 7 18pk</div>
                                <div style="color: #5a6c7d; font-size: 0.85rem;">Current: 93,200 ‚Üí Using 10,000/week ‚Üí Runs out Apr 15</div>
                                <div style="color: #0d47a1; font-size: 0.85rem; margin-top: 0.5rem; font-weight: 500;">Recommended: 5,000 cartons</div>
                            </div>
                        </div>
                        <button class="btn btn-primary">Proceed to Full Review & Order</button>
                    </div>
                </div>

                <!-- Container 3 -->
                <div class="order-card" id="container-3">
                    <div class="order-header">
                        <div>
                            <div class="order-number">Container 3 ‚Äî Order by June 20, 2025</div>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-top: 0.4rem;">Delivery: August 1, 2025 ‚Ä¢ 88,000 cartons</div>
                            <div style="color: #6c757d; font-size: 0.85rem;">3 products: Better Eggs FR 7 6pk ‚Ä¢ Better Eggs FR 8 10pk ‚Ä¢ Henergy Barn 7 18pk</div>
                        </div>
                    </div>
                    <button class="toggle-details-btn" onclick="toggleContainerDetails(3)">Review Details ‚ñº</button>

                    <!-- Expandable Details -->
                    <div class="container-details">
                        <div style="margin-bottom: 1.25rem;">
                            <h4 style="font-size: 0.9rem; font-weight: 600; margin-bottom: 0.75rem; color: #2c3e50;">Products in This Container</h4>
                            <div class="review-product">
                                <div style="font-weight: 600; margin-bottom: 0.4rem;">Better Eggs FR Size 7 6pk</div>
                                <div style="color: #5a6c7d; font-size: 0.85rem;">Replenishment order after Container 1</div>
                                <div style="color: #0d47a1; font-size: 0.85rem; margin-top: 0.5rem; font-weight: 500;">Recommended: 28,000 cartons</div>
                            </div>
                            <div class="review-product">
                                <div style="font-weight: 600; margin-bottom: 0.4rem;">Better Eggs FR Size 8 10pk</div>
                                <div style="color: #5a6c7d; font-size: 0.85rem;">Replenishment order after Container 1</div>
                                <div style="color: #0d47a1; font-size: 0.85rem; margin-top: 0.5rem; font-weight: 500;">Recommended: 32,000 cartons</div>
                            </div>
                            <div class="review-product">
                                <div style="font-weight: 600; margin-bottom: 0.4rem;">Henergy Barn Size 7 18pk</div>
                                <div style="color: #5a6c7d; font-size: 0.85rem;">Replenishment order after Container 1</div>
                                <div style="color: #0d47a1; font-size: 0.85rem; margin-top: 0.5rem; font-weight: 500;">Recommended: 28,000 cartons</div>
                            </div>
                        </div>
                        <button class="btn btn-primary">Proceed to Full Review & Order</button>
                    </div>
                </div>
            </div>

            <!-- Orders En Route -->
            <div class="card">
                <div class="card-header">ORDERS EN ROUTE (2)</div>

                <div class="order-card">
                    <div class="order-header">
                        <div>
                            <div class="order-number">Order #MP-2025-0145</div>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-top: 0.4rem;">Ordered: Feb 1, 2025</div>
                            <div style="color: #6c757d; font-size: 0.85rem;">Expected Arrival: <strong>Feb 15, 2025 (4 days away)</strong></div>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-top: 0.4rem;">135,000 cartons ‚Ä¢ 1 product (Air freight - emergency)</div>
                            <div style="color: #6c757d; font-size: 0.85rem;">Henergy Cage Free Jumbo 10 Pack</div>
                        </div>
                        <span class="order-status status-transit">‚úàÔ∏è IN TRANSIT</span>
                    </div>
                    <button class="btn btn-secondary">View Details</button>
                </div>

                <div class="order-card">
                    <div class="order-header">
                        <div>
                            <div class="order-number">Order #MP-2025-0099</div>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-top: 0.4rem;">Ordered: Jan 20, 2025</div>
                            <div style="color: #6c757d; font-size: 0.85rem;">Expected Arrival: <strong>March 10, 2025 (3 weeks away)</strong></div>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-top: 0.4rem;">150,000 cartons ‚Ä¢ 1 product</div>
                            <div style="color: #6c757d; font-size: 0.85rem;">Better Eggs Free Range Mixed Grade 12 Pack</div>
                        </div>
                        <span class="order-status status-transit">üö¢ IN TRANSIT</span>
                    </div>
                    <button class="btn btn-secondary">View Details</button>
                </div>
            </div>

            <!-- Order History -->
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.25rem; flex-wrap: wrap; gap: 0.85rem;">
                    <div class="card-header" style="margin: 0;">ORDER HISTORY</div>
                    <div style="display: flex; gap: 0.85rem; flex-wrap: wrap;">
                        <select style="width: 140px; padding: 0.65rem;">
                            <option>All Orders</option>
                            <option>Delivered</option>
                        </select>
                        <select style="width: 140px; padding: 0.65rem;">
                            <option>Last 12 months</option>
                            <option>Last 6 months</option>
                        </select>
                        <input type="text" placeholder="üîç Search" style="width: 180px; padding: 0.65rem;">
                    </div>
                </div>

                <div class="order-card">
                    <div class="order-header">
                        <div>
                            <div class="order-number">Order #MP-2024-1876</div>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-top: 0.4rem;">Ordered: Nov 15, 2024 ‚Ä¢ Delivered: Dec 28, 2024</div>
                            <div style="color: #6c757d; font-size: 0.85rem;">91,500 cartons ‚Ä¢ 8 products</div>
                        </div>
                        <span class="order-status status-delivered">‚úì DELIVERED</span>
                    </div>
                    <div style="display: flex; gap: 0.85rem; margin-top: 0.85rem;">
                        <button class="btn btn-secondary">View Details</button>
                        <button class="btn btn-secondary">Reorder</button>
                    </div>
                </div>

                <div class="order-card">
                    <div class="order-header">
                        <div>
                            <div class="order-number">Order #MP-2024-1702</div>
                            <div style="color: #6c757d; font-size: 0.85rem; margin-top: 0.4rem;">Ordered: Sep 20, 2024 ‚Ä¢ Delivered: Nov 5, 2024</div>
                            <div style="color: #6c757d; font-size: 0.85rem;">88,000 cartons ‚Ä¢ 7 products</div>
                        </div>
                        <span class="order-status status-delivered">‚úì DELIVERED</span>
                    </div>
                    <div style="display: flex; gap: 0.85rem; margin-top: 0.85rem;">
                        <button class="btn btn-secondary">View Details</button>
                        <button class="btn btn-secondary">Reorder</button>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 1.25rem;">
                    <button class="btn btn-secondary" style="padding: 0.65rem 1.75rem;">Load More Orders</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');

            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });

            if (screenId === 'dashboard') {
                document.querySelectorAll('.nav-tab')[0].classList.add('active');
            } else if (screenId === 'orders') {
                document.querySelectorAll('.nav-tab')[1].classList.add('active');
            }

            window.scrollTo(0, 0);
        }

        function toggleCollapse() {
            const content = document.getElementById('healthy-products');
            const toggle = document.getElementById('collapse-toggle');

            if (content.classList.contains('show')) {
                content.classList.remove('show');
                toggle.textContent = '‚úì 4 HEALTHY PRODUCTS (12+ weeks supply) ‚Äî Show ‚ñº';
            } else {
                content.classList.add('show');
                toggle.textContent = '‚úì 4 HEALTHY PRODUCTS (12+ weeks supply) ‚Äî Hide ‚ñ≤';
            }
        }

        function toggleAddProducts() {
            const content = document.getElementById('add-products');
            const toggle = document.getElementById('add-products-toggle');

            if (content.classList.contains('show')) {
                content.classList.remove('show');
                toggle.textContent = '+ ADD MORE PRODUCTS TO THIS ORDER';
            } else {
                content.classList.add('show');
                toggle.textContent = '- CLOSE';
            }
        }

        function updateTotal() {
            const inputs = document.querySelectorAll('.qty-input');
            let total = 0;
            inputs.forEach(input => {
                total += parseInt(input.value) || 0;
            });

            document.getElementById('container-total').textContent = total.toLocaleString();
            document.getElementById('approve-total').textContent = total.toLocaleString();
        }

        // Product data storage
        const productData = {
            1: { stock: 15278, consumption: 22500 },
            2: { stock: 13195, consumption: 3350 },
            3: { stock: 167102, consumption: 25000 },
            4: { stock: 216870, consumption: 25000 },
            5: { stock: 383242, consumption: 42500 },
            6: { stock: 93200, consumption: 10000 },
            7: { stock: 223588, consumption: 15250 },
            8: { stock: 366024, consumption: 18000 },
            9: { stock: 77050, consumption: 1500 },
            10: { stock: 203300, consumption: 450 }
        };

        function editProduct(productId) {
            const card = event.target.closest('.product-card');
            if (!card || card.classList.contains('edit-mode')) return;

            const data = productData[productId];
            if (!data) return;

            // Store original values
            card.dataset.originalStock = data.stock;
            card.dataset.originalConsumption = data.consumption;

            // Find info rows
            const infoRows = card.querySelectorAll('.info-row');
            const stockRow = infoRows[0];
            const consumptionRow = infoRows[1];

            // Replace stock value with input
            const stockValue = stockRow.querySelector('.info-value');
            const stockInput = `<input type="number" class="stock-input" value="${data.stock}" oninput="updateProjection(${productId})">`;
            stockValue.innerHTML = stockInput;

            // Replace consumption value with input
            const consumptionValue = consumptionRow.querySelector('.info-value');
            const consumptionInput = `<input type="number" class="consumption-input" value="${data.consumption}" oninput="updateProjection(${productId})"> /week`;
            consumptionValue.innerHTML = consumptionInput;

            // Add edit controls
            const editControls = document.createElement('div');
            editControls.className = 'edit-controls';
            editControls.innerHTML = `
                <button class="btn-save" onclick="saveProduct(${productId})">Save</button>
                <button class="btn-cancel" onclick="cancelEdit(${productId})">Cancel</button>
            `;
            const runsOutRow = card.querySelector('.runs-out-row');
            runsOutRow.parentElement.insertBefore(editControls, runsOutRow);

            // Add edit mode class
            card.classList.add('edit-mode');

            // Focus first input
            card.querySelector('.stock-input').focus();
        }

        function updateProjection(productId) {
            const card = event.target.closest('.product-card');
            const stockInput = card.querySelector('.stock-input');
            const consumptionInput = card.querySelector('.consumption-input');

            const stock = parseInt(stockInput.value) || 0;
            const consumption = parseInt(consumptionInput.value) || 1;

            // Calculate weeks until stockout
            const weeksRemaining = stock / consumption;
            const daysRemaining = Math.floor(weeksRemaining * 7);

            // Calculate date
            const today = new Date('2025-02-11');
            const runsOutDate = new Date(today);
            runsOutDate.setDate(runsOutDate.getDate() + daysRemaining);

            // Format date
            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            const dateStr = `${months[runsOutDate.getMonth()]} ${runsOutDate.getDate()}, ${runsOutDate.getFullYear()}`;

            // Update runs out display
            const runsOutValue = card.querySelector('.runs-out-row .info-value');
            if (daysRemaining < 7) {
                runsOutValue.textContent = `${dateStr} (${daysRemaining} days)`;
            } else if (weeksRemaining < 12) {
                runsOutValue.textContent = `${dateStr} (${Math.floor(weeksRemaining)} weeks)`;
            } else {
                runsOutValue.textContent = `${dateStr} (${Math.floor(weeksRemaining)} weeks)`;
            }
        }

        function saveProduct(productId) {
            const card = event.target.closest('.product-card');
            const stockInput = card.querySelector('.stock-input');
            const consumptionInput = card.querySelector('.consumption-input');

            const newStock = parseInt(stockInput.value) || 0;
            const newConsumption = parseInt(consumptionInput.value) || 1;

            // Update stored data
            productData[productId].stock = newStock;
            productData[productId].consumption = newConsumption;

            // Remove edit mode
            cancelEdit(productId, true);

            // Show success message
            showNotification('Product data updated successfully');
        }

        function cancelEdit(productId, isSave = false) {
            const card = event.target.closest('.product-card');

            if (!isSave) {
                // Restore original values
                productData[productId].stock = parseInt(card.dataset.originalStock);
                productData[productId].consumption = parseInt(card.dataset.originalConsumption);
            }

            const data = productData[productId];

            // Restore stock display
            const infoRows = card.querySelectorAll('.info-row');
            const stockRow = infoRows[0];
            const consumptionRow = infoRows[1];

            stockRow.querySelector('.info-value').innerHTML = `${data.stock.toLocaleString()} <span class="edit-icon" onclick="editProduct(${productId})">‚úèÔ∏è</span>`;
            consumptionRow.querySelector('.info-value').innerHTML = `${data.consumption.toLocaleString()}/week <span class="edit-icon" onclick="editProduct(${productId})">‚úèÔ∏è</span>`;

            // Remove edit controls
            const editControls = card.querySelector('.edit-controls');
            if (editControls) editControls.remove();

            // Remove edit mode class
            card.classList.remove('edit-mode');
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 90px;
                right: 30px;
                background: #0d47a1;
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 4px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 1000;
                font-size: 0.9rem;
                animation: slideIn 0.3s ease;
            `;
            notification.textContent = `‚úì ${message}`;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        function submitOrder() {
            showScreen('success');
        }

        // Review container - navigate to Orders and highlight
        function reviewContainer(containerNum) {
            showScreen('orders');

            // Scroll to and highlight the container
            setTimeout(() => {
                const containerCard = document.getElementById(`container-${containerNum}`);
                if (containerCard) {
                    // Highlight effect
                    containerCard.classList.add('highlighted');

                    // Scroll into view
                    containerCard.scrollIntoView({ behavior: 'smooth', block: 'center' });

                    // Expand if collapsible
                    const detailsSection = containerCard.querySelector('.container-details');
                    if (detailsSection && !detailsSection.classList.contains('show')) {
                        toggleContainerDetails(containerNum);
                    }

                    // Remove highlight after animation
                    setTimeout(() => {
                        containerCard.classList.remove('highlighted');
                    }, 2000);
                }
            }, 100);
        }

        // Toggle container details
        function toggleContainerDetails(containerNum) {
            const containerCard = document.getElementById(`container-${containerNum}`);
            if (!containerCard) return;

            const detailsSection = containerCard.querySelector('.container-details');
            const toggleBtn = containerCard.querySelector('.toggle-details-btn');

            if (detailsSection.classList.contains('show')) {
                detailsSection.classList.remove('show');
                if (toggleBtn) toggleBtn.textContent = 'Review Details ‚ñº';
            } else {
                detailsSection.classList.add('show');
                if (toggleBtn) toggleBtn.textContent = 'Hide Details ‚ñ≤';
            }
        }
    </script>
</body>
</html>
